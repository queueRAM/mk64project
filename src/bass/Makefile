# Makefile to update character and TKMK00 textures

################ Target Executable and Sources ###############

CHARACTER_TARGET = mk64.characters.z64
KART_TARGET = mk64.karts.z64
TKMK00_TARGET = mk64.tkmk00.z64

MIO0_DIR = extract/mio0
TKMK_DIR = extract/tkmk00

MIO0_FILES = \
   00729A30.mio0 \
   0072A704.mio0 \
   0072B3C4.mio0 \
   0072C080.mio0 \
   0072CCEC.mio0 \
   0072D938.mio0 \
   0072E578.mio0 \
   0072F28C.mio0 \
   0072FF98.mio0 \
   00730C9C.mio0 \
   0073197C.mio0 \
   00732678.mio0 \
   00733374.mio0 \
   007340B8.mio0 \
   00734E0C.mio0 \
   00735BB0.mio0 \
   00736950.mio0 \
   00737494.mio0 \
   007380B0.mio0 \
   00738CD0.mio0 \
   007398F0.mio0 \
   0073A4D8.mio0 \
   0073B0C0.mio0 \
   0073BC8C.mio0 \
   0073C8B4.mio0 \
   0073D4E8.mio0 \
   0073E174.mio0 \
   0073EDF4.mio0 \
   0073FA84.mio0 \
   00740744.mio0 \
   00741474.mio0 \
   007421A0.mio0 \
   00742EE8.mio0 \
   00743C3C.mio0 \
   00744674.mio0 \
   0074552C.mio0 \
   007463D8.mio0 \
   00747294.mio0 \
   0074814C.mio0 \
   00748FD4.mio0 \
   00749E74.mio0 \
   0074AD3C.mio0 \
   0074BC2C.mio0 \
   0074CB3C.mio0 \
   0074DAF0.mio0 \
   0074EAD4.mio0 \
   0074FB20.mio0 \
   00750B58.mio0 \
   00751B3C.mio0 \
   00752AD0.mio0 \
   00753A58.mio0 \
   00754900.mio0 \
   007552BC.mio0 \
   00755C70.mio0 \
   0075662C.mio0 \
   00756FE4.mio0 \
   007579A0.mio0 \
   00758340.mio0 \
   00758CD8.mio0 \
   007596A4.mio0 \
   0075A058.mio0 \
   0075AA40.mio0 \
   0075B454.mio0 \
   0075BEAC.mio0 \
   0075C90C.mio0 \
   0075D38C.mio0 \
   0075DE00.mio0 \
   0075E860.mio0 \
   0075F1C4.mio0 \
   0075FCB0.mio0 \
   00760794.mio0 \
   00761274.mio0 \
   00761D28.mio0 \
   00762798.mio0 \
   007631E0.mio0 \
   00763D04.mio0 \
   00764730.mio0 \
   007650EC.mio0 \
   00765A98.mio0 \
   00766458.mio0 \
   00766E68.mio0 \
   007678C4.mio0 \
   007683A4.mio0 \
   00768EAC.mio0 \
   007699C4.mio0 \
   0076A4EC.mio0 \
   0076B2D8.mio0 \
   0076C0E0.mio0 \
   0076CEC0.mio0 \
   0076DC70.mio0 \
   0076EA18.mio0 \
   0076F7FC.mio0 \
   00770628.mio0 \
   007714BC.mio0 \
   00772398.mio0 \
   007732E0.mio0 \
   00774218.mio0 \
   0077519C.mio0 \
   007761A0.mio0 \
   00777160.mio0 \
   007780AC.mio0 \
   00778FAC.mio0 \
   00779F00.mio0 \
   0077B060.mio0 \
   0077C1A4.mio0 \
   0077D2F8.mio0 \
   0077E460.mio0 \
   0077F5B4.mio0 \
   00780710.mio0 \
   00781884.mio0 \
   00782A5C.mio0 \
   00783C84.mio0 \
   00784EF0.mio0 \
   007861D0.mio0 \
   007874D8.mio0 \
   007887BC.mio0 \
   00789AE0.mio0 \
   0078ADCC.mio0 \
   0078C098.mio0 \
   0078D210.mio0 \
   0078E4F8.mio0 \
   0078F7AC.mio0 \
   00790A74.mio0 \
   00791D40.mio0 \
   00792FE4.mio0 \
   00794270.mio0 \
   0079554C.mio0 \
   00796834.mio0 \
   00797B24.mio0 \
   00798E40.mio0 \
   0079A10C.mio0 \
   0079B448.mio0 \
   0079C7EC.mio0 \
   0079DB68.mio0 \
   0079EEAC.mio0 \
   007A01F4.mio0

KART_MIO0_FILES = \
   001E01F0.mio0 \
   001E0680.mio0 \
   001E0B18.mio0 \
   001E0FB4.mio0 \
   001E1460.mio0 \
   001E1918.mio0 \
   001E1DD4.mio0 \
   001E22B0.mio0 \
   001E27A8.mio0 \
   001E2CC4.mio0 \
   001E31FC.mio0 \
   001E372C.mio0 \
   001E3C74.mio0 \
   001E41C4.mio0 \
   001E472C.mio0 \
   001E4CA0.mio0 \
   001E5228.mio0 \
   001E57A0.mio0 \
   001E5D28.mio0 \
   001E62B4.mio0 \
   001E6858.mio0 \
   001E6DF8.mio0 \
   001E7288.mio0 \
   001E7740.mio0 \
   001E7BD8.mio0 \
   001E80A4.mio0 \
   001E857C.mio0 \
   001E8A50.mio0 \
   001E8F50.mio0 \
   001E9458.mio0 \
   001E9988.mio0 \
   001E9EC8.mio0 \
   001EA420.mio0 \
   001EA984.mio0 \
   001EAED8.mio0 \
   001EB458.mio0 \
   001EB9C8.mio0 \
   001EBF58.mio0 \
   001EC4E4.mio0 \
   001ECA6C.mio0 \
   001ECFEC.mio0 \
   001ED574.mio0 \
   001EDB10.mio0 \
   001EDFD0.mio0 \
   001EE494.mio0 \
   001EE968.mio0 \
   001EEE40.mio0 \
   001EF33C.mio0 \
   001EF85C.mio0 \
   001EFD80.mio0 \
   001F02A8.mio0 \
   001F07EC.mio0 \
   001F0D3C.mio0 \
   001F12AC.mio0 \
   001F1814.mio0 \
   001F1D90.mio0 \
   001F231C.mio0 \
   001F289C.mio0 \
   001F2E18.mio0 \
   001F33A8.mio0 \
   001F394C.mio0 \
   001F3F00.mio0 \
   001F44AC.mio0 \
   001F4A5C.mio0 \
   001F4F1C.mio0 \
   001F53F4.mio0 \
   001F58D4.mio0 \
   001F5DAC.mio0 \
   001F62A8.mio0 \
   001F67BC.mio0 \
   001F6CE0.mio0 \
   001F7228.mio0 \
   001F7768.mio0 \
   001F7CC4.mio0 \
   001F8238.mio0 \
   001F8794.mio0 \
   001F8D10.mio0 \
   001F9284.mio0 \
   001F9810.mio0 \
   001F9DB0.mio0 \
   001FA360.mio0 \
   001FA914.mio0 \
   001FAED8.mio0 \
   001FB48C.mio0 \
   001FBA40.mio0 \
   001FBEF0.mio0 \
   001FC3D4.mio0 \
   001FC8C8.mio0 \
   001FCDBC.mio0 \
   001FD2C4.mio0 \
   001FD7EC.mio0 \
   001FDD30.mio0 \
   001FE290.mio0 \
   001FE7FC.mio0 \
   001FED70.mio0 \
   001FF2EC.mio0 \
   001FF86C.mio0 \
   001FFDF0.mio0 \
   00200378.mio0 \
   0020091C.mio0 \
   00200EC4.mio0 \
   0020146C.mio0 \
   00201A14.mio0 \
   00201FD4.mio0 \
   00202598.mio0 \
   00202B50.mio0 \
   00203030.mio0 \
   00203518.mio0 \
   00203A0C.mio0 \
   00203F1C.mio0 \
   00204424.mio0 \
   00204970.mio0 \
   00204EC0.mio0 \
   00205420.mio0 \
   00205990.mio0 \
   00205F00.mio0 \
   00206480.mio0 \
   00206A0C.mio0 \
   00206FA4.mio0 \
   00207538.mio0 \
   00207AFC.mio0 \
   002080B0.mio0 \
   00208678.mio0 \
   00208C2C.mio0 \
   0020920C.mio0 \
   002097D4.mio0 \
   00209DA4.mio0 \
   0020A290.mio0 \
   0020A790.mio0 \
   0020ACAC.mio0 \
   0020B1BC.mio0 \
   0020B6EC.mio0 \
   0020BC28.mio0 \
   0020C174.mio0 \
   0020C6C4.mio0 \
   0020CC2C.mio0 \
   0020D190.mio0 \
   0020D720.mio0 \
   0020DCB8.mio0 \
   0020E24C.mio0 \
   0020E7E8.mio0 \
   0020ED98.mio0 \
   0020F360.mio0 \
   0020F928.mio0 \
   0020FEE0.mio0 \
   002104AC.mio0 \
   00210A74.mio0 \
   00211054.mio0 \
   00211570.mio0 \
   00211A8C.mio0 \
   00211FB0.mio0 \
   002124EC.mio0 \
   00212A38.mio0 \
   00212F70.mio0 \
   002134D8.mio0 \
   00213A28.mio0 \
   00213FB4.mio0 \
   00214540.mio0 \
   00214AEC.mio0 \
   0021509C.mio0 \
   00215650.mio0 \
   00215BF4.mio0 \
   002161A4.mio0 \
   00216774.mio0 \
   00216D38.mio0 \
   00217304.mio0 \
   002178F4.mio0 \
   00217ECC.mio0 \
   002184B8.mio0 \
   002189D0.mio0 \
   00218EFC.mio0 \
   00219450.mio0 \
   00219980.mio0 \
   00219EC4.mio0 \
   0021A420.mio0 \
   0021A99C.mio0 \
   0021AF10.mio0 \
   0021B490.mio0 \
   0021BA24.mio0 \
   0021BFCC.mio0 \
   0021C578.mio0 \
   0021CB30.mio0 \
   0021D0E8.mio0 \
   0021D6B0.mio0 \
   0021DC8C.mio0 \
   0021E270.mio0 \
   0021E850.mio0 \
   0021EE40.mio0 \
   0021F41C.mio0 \
   0021FA14.mio0 \
   0021FEB4.mio0 \
   00220388.mio0 \
   00220898.mio0 \
   00220DC8.mio0 \
   00221328.mio0 \
   002218A8.mio0 \
   00221E20.mio0 \
   002223D4.mio0 \
   00222984.mio0 \
   00222F70.mio0 \
   0022356C.mio0 \
   00223B88.mio0 \
   002241CC.mio0 \
   00224818.mio0 \
   00224E74.mio0 \
   002254C8.mio0 \
   00225AF0.mio0 \
   00226124.mio0 \
   00226740.mio0 \
   00226D2C.mio0 \
   0022720C.mio0 \
   00227734.mio0 \
   00227C74.mio0 \
   002281DC.mio0 \
   00228748.mio0 \
   00228CE8.mio0 \
   00229298.mio0 \
   00229860.mio0 \
   00229E28.mio0 \
   0022A410.mio0 \
   0022A9E0.mio0 \
   0022AFC8.mio0 \
   0022B5E0.mio0 \
   0022BBF8.mio0 \
   0022C210.mio0 \
   0022C818.mio0 \
   0022CE2C.mio0 \
   0022D410.mio0 \
   0022D9E8.mio0 \
   0022DF84.mio0 \
   0022E460.mio0 \
   0022E990.mio0 \
   0022EEF0.mio0 \
   0022F46C.mio0 \
   0022F9F4.mio0 \
   0022FF90.mio0 \
   00230558.mio0 \
   00230B38.mio0 \
   0023110C.mio0 \
   002316F0.mio0 \
   00231CB8.mio0 \
   00232298.mio0 \
   00232874.mio0 \
   00232E70.mio0 \
   00233460.mio0 \
   00233A30.mio0 \
   00234014.mio0 \
   002345C0.mio0 \
   00234B58.mio0 \
   002350A0.mio0 \
   002355A0.mio0 \
   00235ADC.mio0 \
   00236038.mio0 \
   002365CC.mio0 \
   00236B5C.mio0 \
   00237118.mio0 \
   002376FC.mio0 \
   00237CE0.mio0 \
   002382D8.mio0 \
   002388A0.mio0 \
   00238E68.mio0 \
   00239440.mio0 \
   00239A20.mio0 \
   00239FF8.mio0 \
   0023A59C.mio0 \
   0023AB38.mio0 \
   0023B0CC.mio0 \
   0023B644.mio0 \
   0023BB9C.mio0 \
   0023C0AC.mio0 \
   0023C5FC.mio0 \
   0023CB50.mio0 \
   0023D0CC.mio0 \
   0023D658.mio0 \
   0023DC0C.mio0 \
   0023E1D8.mio0 \
   0023E7C8.mio0 \
   0023EDB0.mio0 \
   0023F37C.mio0 \
   0023F960.mio0 \
   0023FF14.mio0 \
   002404E0.mio0 \
   00240A88.mio0 \
   00241028.mio0 \
   002415B0.mio0 \
   00241B30.mio0 \
   0024207C.mio0 \
   002425A8.mio0 \
   00242AB0.mio0 \
   00242F64.mio0 \
   00243434.mio0 \
   002439A0.mio0 \
   00243F74.mio0 \
   00244620.mio0 \
   00244C58.mio0 \
   00245298.mio0 \
   00245864.mio0 \
   00245DEC.mio0 \
   00246304.mio0 \
   002468C4.mio0 \
   00246E8C.mio0 \
   00247478.mio0 \
   00247A18.mio0 \
   00247FB0.mio0 \
   00248550.mio0 \
   00248AA0.mio0 \
   00248F6C.mio0 \
   00249558.mio0 \
   00249BFC.mio0 \
   0024A298.mio0 \
   0024A8C8.mio0 \
   0024AEEC.mio0 \
   0024B4B8.mio0 \
   0024BA08.mio0 \
   0024BF18.mio0 \
   0024C4D8.mio0 \
   0024CAB0.mio0 \
   0024D068.mio0 \
   0024D60C.mio0 \
   0024DBBC.mio0 \
   0024E134.mio0

TKMK_FILES = \
   007FA3C0.tkmk00 \
   007FAFC0.tkmk00 \
   007FB8C0.tkmk00 \
   007FBAC0.tkmk00 \
   007FBCC0.tkmk00 \
   007FBEC0.tkmk00 \
   007FC0C0.tkmk00 \
   007FC2C0.tkmk00 \
   007FC4C0.tkmk00 \
   007FC6C0.tkmk00 \
   007FC8C0.tkmk00 \
   007FCDC0.tkmk00 \
   007FD2C0.tkmk00 \
   007FD7C0.tkmk00 \
   007FDDC0.tkmk00 \
   007FE1C0.tkmk00 \
   007FE6C0.tkmk00 \
   007FEBC0.tkmk00 \
   007FEFC0.tkmk00 \
   007FF3C0.tkmk00 \
   007FF7C0.tkmk00 \
   007FFCC0.tkmk00 \
   008000C0.tkmk00 \
   008004C0.tkmk00 \
   008008C0.tkmk00 \
   00800DC0.tkmk00 \
   008010C0.tkmk00 \
   008014C0.tkmk00 \
   008018C0.tkmk00 \
   00801EC0.tkmk00 \
   008021C0.tkmk00 \
   00802DC0.tkmk00 \
   008031C0.tkmk00 \
   008035C0.tkmk00 \
   008039C0.tkmk00 \
   00803DC0.tkmk00 \
   008049C0.tkmk00 \
   00804EC0.tkmk00 \
   008055C0.tkmk00 \
   00805FC0.tkmk00 \
   00806AC0.tkmk00 \
   00806DC0.tkmk00 \
   008071C0.tkmk00 \
   008075C0.tkmk00 \
   008078C0.tkmk00 \
   00807BC0.tkmk00 \
   00807EC0.tkmk00 \
   008080C0.tkmk00 \
   008082C0.tkmk00 \
   008084C0.tkmk00 \
   008086C0.tkmk00 \
   008089C0.tkmk00 \
   00808CC0.tkmk00 \
   00808EC0.tkmk00 \
   008090C0.tkmk00 \
   008092C0.tkmk00 \
   008094C0.tkmk00 \
   008162C0.tkmk00 \
   0081F6C0.tkmk00 \
   008202C0.tkmk00 \
   008209C0.tkmk00 \
   00820AC0.tkmk00 \
   00820FC0.tkmk00

MIO0_PATH_FILES = $(addprefix $(MIO0_DIR)/,$(MIO0_FILES))
KART_MIO0_PATH_FILES = $(addprefix $(MIO0_DIR)/,$(KART_MIO0_FILES))
TKMK_PATH_FILES = $(addprefix $(TKMK_DIR)/,$(TKMK_FILES))
####################### Tool Options #########################

TOOLS_DIR = ./tools
BASS = $(TOOLS_DIR)/bass
MIO0TOOL = $(TOOLS_DIR)/mio0
N64GRAPHICS = $(TOOLS_DIR)/n64graphics
N64CKSUM = $(TOOLS_DIR)/n64cksum

ASFLAGS = -create

FixPath = $(subst /,\,$1)

######################## Targets #############################

default: all

all: $(CHARACTER_TARGET) $(KART_TARGET) $(TKMK00_TARGET)

$(MIO0_DIR)/%.mio0: $(MIO0_DIR)/%.bin
	$(MIO0TOOL) $< $@

$(CHARACTER_TARGET): $(MIO0_PATH_FILES)
$(KART_TARGET): $(KART_MIO0_PATH_FILES)
$(TKMK00_TARGET): $(TKMK_PATH_FILES)

%.z64: %.asm
	$(BASS) $(ASFLAGS) -o $@ $<
	$(N64CKSUM) $@

clean:
	del /Q $(call FixPath,$(CHARACTER_TARGET) $(MIO0_PATH_FILES))


.PHONY: all clean default
.SECONDARY:
